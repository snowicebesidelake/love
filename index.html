<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>çµ¦ åŠ‰å†¶æŸ” çš„å‘Šç™½ ğŸ’–</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: radial-gradient(circle at top left, #ffd6e8, #ff9eb5, #ff7aa2);
    overflow: hidden;
    font-family: 'DFKai-sb', 'Noto Sans TC', sans-serif;
  }

  .container {
    position: relative;
    z-index: 2;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #fff;
    text-align: center;
    padding: 20px;
  }

  h1 {
    font-size: 28px;
    margin-bottom: 15px;
    letter-spacing: 2px;
    text-shadow: 0 2px 6px rgba(0,0,0,0.25);
  }

  .poem {
    font-size: 22px;
    line-height: 1.8;
    max-width: 600px;
    margin: 10px auto 30px;
    white-space: pre-wrap;
    opacity: 0;
    transform: translateY(15px);
    animation: fadeIn 1.5s forwards;
  }

  .poem:nth-child(2) { animation-delay: 1s; }
  .poem:nth-child(3) { animation-delay: 2s; }
  .poem:nth-child(4) { animation-delay: 3s; }

  @keyframes fadeIn {
    to { opacity: 1; transform: translateY(0); }
  }

  .heart {
    color: #fff;
    font-size: 40px;
    animation: pulse 1.5s infinite;
  }
  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.85; }
  }

  .btn {
    margin-top: 30px;
    background: rgba(255,255,255,0.2);
    border: 2px solid #fff;
    padding: 12px 26px;
    border-radius: 30px;
    color: #fff;
    font-size: 18px;
    cursor: pointer;
    backdrop-filter: blur(6px);
    transition: all 0.3s ease;
  }

  .btn:hover {
    background: #fff;
    color: #ff4d7e;
  }

  /* floating hearts animation */
  .floating-heart {
    position: absolute;
    color: rgba(255,255,255,0.5);
    animation: floatUp 6s linear infinite;
  }
  @keyframes floatUp {
    0% { transform: translateY(100vh) scale(0.6); opacity: 0.9; }
    100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
  }
</style>
</head>
<body>

<div class="container">
  <h1>çµ¦ åŠ‰å†¶æŸ” ğŸ’Œ</h1>
  <div class="poem">æˆ‘æƒ³æ„›ä½ å››å¤©â€”â€”æ˜¥å¤©ã€å¤å¤©ã€ç§‹å¤©ã€å†¬å¤©ã€‚</div>
  <div class="poem">ä¸å°ï¼Œä¹Ÿè¨±æ˜¯ä¸‰å¤©â€”â€”æ˜¨å¤©ã€ä»Šå¤©ã€æ˜å¤©ã€‚</div>
  <div class="poem">ç®—äº†ï¼Œå°±ä¸€å¤©å§â€”â€”æ¯ä¸€å¤©éƒ½æ„›ä½  <span class="heart">â¤ï¸</span></div>
  <button class="btn" id="replayBtn">å†çœ‹ä¸€æ¬¡ ğŸ’«</button>
</div>

<!-- èƒŒæ™¯æ„›å¿ƒç²’å­ -->
<canvas id="heartCanvas"></canvas>

<audio id="bgm" loop>
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_d59bba7bde.mp3" type="audio/mpeg">
</audio>

<script>
  // éŸ³æ¨‚è‡ªå‹•æ’­æ”¾
  const bgm = document.getElementById("bgm");
  document.body.addEventListener('click', () => {
    bgm.volume = 0.3;
    bgm.play();
  }, { once: true });

  // å†çœ‹ä¸€æ¬¡æŒ‰éˆ•
  const btn = document.getElementById("replayBtn");
  btn.addEventListener("click", () => {
    document.querySelectorAll(".poem").forEach((line, i) => {
      line.style.animation = "none";
      void line.offsetWidth; // reflow
      line.style.animation = fadeIn 1.5s forwards;
      line.style.animationDelay = ${i + 1}s;
    });
  });

  // æ„›å¿ƒç²’å­èƒŒæ™¯
  const canvas = document.getElementById("heartCanvas");
  const ctx = canvas.getContext("2d");
  let hearts = [];

  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resize);
  resize();

  function drawHeart(x, y, size, color) {
    ctx.save();
    ctx.translate(x, y);
    ctx.scale(size, size);
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.bezierCurveTo(0, -3, -5, -15, -15, -15);
    ctx.bezierCurveTo(-35, -15, -35, 10, -35, 10);
    ctx.bezierCurveTo(-35, 25, 0, 45, 0, 60);
    ctx.bezierCurveTo(0, 45, 35, 25, 35, 10);
    ctx.bezierCurveTo(35, 10, 35, -15, 15, -15);
    ctx.bezierCurveTo(5, -15, 0, -3, 0, 0);
    ctx.closePath();
    ctx.fillStyle = color;
    ctx.fill();
    ctx.restore();
  }

  function createHeart() {
    return {
      x: Math.random() * canvas.width,
      y: canvas.height + 10,
      size: Math.random() * 0.3 + 0.1,
      speed: Math.random() * 1.5 + 0.5,
      color: rgba(255, ${150+Math.random()*100}, ${150+Math.random()*100}, 0.6)
    };
  }

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    if (hearts.length < 50) hearts.push(createHeart());
    for (let h of hearts) {
      drawHeart(h.x, h.y, h.size * 10, h.color);
      h.y -= h.speed;
      if (h.y < -60) {
        h.x = Math.random() * canvas.width;
        h.y = canvas.height + 10;
      }
    }
    requestAnimationFrame(animate);
  }
  animate();
</script>

</body>
</html>